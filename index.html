<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Georges Olivier</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;400;700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
	<link href="css/site.css" rel="stylesheet">
	<link href="css/modal.css" rel="stylesheet">
</head>
<body>

<div class="head">
	<h1>Georges Olivier</h1>
</div>

<div class="row mesh">
	<div class="title">
		<span>LONDON</span>
	</div>
	<div id="images" class="grid"></div>
</div>

<div class="row"></div>

<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<script>

let images = [
	{
		title: 'River tracks',
		theme: 'London',
		file: 'London-1.webp',
		class: 'colspan3'
	},
	{
		title: 'On the Riviera',
		file: 'London-2.webp',
		class: 'colspan3'
	},
	{
		title: 'Lloyds 4',
		file: 'Lloyds-4.webp',
		class: 'colspan3'
	},
	{
		title: 'Midnight oil burning',
		file: 'Lloyds-1.webp',
		class: 'colspan3'
	},
	{
		title: 'Lloyds 5',
		block: "The City has more Japanese banks than Tokyo and more American banks than Manhattan.",
		class: 'colspan4'
	},
	{
		title: 'London 4',
		file: 'London-4.webp',
		class: 'colspan4'
	},
	{
		title: 'Lloyds 7',
		file: 'Lloyds-7.webp',
		class: 'colspan4'
	},

	{
		title: 'London 10',
		file: 'London-10.webp',
		class: 'colspan4'
	},
	{
		title: 'London 12',
		file: 'London-12.webp',
		class: 'colspan4'
	},
	{
		title: 'London 11',
		file: 'London-11.webp',
		class: 'colspan4'
	},

	{
		title: 'London 13',
		file: 'London-13.webp',
		class: 'colspan4'
	},
	{
		title: 'Lloyds 4',
		file: 'Lloyds-4.webp',
		class: 'colspan3'
	},
	{
		title: 'London 15',
		file: 'London-15.webp',
		class: 'colspan3'
	},

]

$(function() {

	let imgSeq = 1;

	$.each(images, function(i, image) {
		let div = $('<div>');
		if (image.class) {
			div.addClass(image.class);
		}
		if (image.file) {
			let img = $('<img>', {src: 'img/'+image.file, class: 'center-cropped', imgSeq: imgSeq, imgTitle: image.title});
			$('#images').append(div.addClass('image').append(img));
			imgSeq++;
		}
		if (image.block) {
			let block = $('<div>').text(image.block);
			$('#images').append(div.addClass('block').append(block));
		}
	});

	$(document).ready(function() {
		$('#images img').each(function() {
			$(this).addClass('show')
		});
	});

	$('#images').on('click', 'img', function(e) {
		openModal($(this));
	});

	$('#images div.image').on('mouseenter mouseleave', function(e) {
		if (e.type == 'mouseenter') {
			let footer = $('<div>', {class: 'footer'});
			let caption = $('<div>', {class: 'caption'}).text($(this).find('img').attr('imgTitle'));
			footer.append(caption);
			$(this).append(footer);
		}
		if (e.type == 'mouseleave') {
			$(this).find('div.footer').remove();
		}
	});

	$(document).keydown(function (e) {
		if (modal) {
			let img = modal.find('img.preview');
			let imgSeq = parseInt(img.attr('imgSeq'));
			let images = $('#images img').length;
			let setImgId = false;

			if ([39,40].includes(e.which)) {
				setImgId = imgSeq+1;
				if (setImgId > images) {
					setImgId = 1;
				}
			}
			if ([37,38].includes(e.which)) {
				setImgId = imgSeq-1;
				if (setImgId < 1) {
					setImgId = images;
				}
			}
			if ([27,32].includes(e.which)) {
				e.preventDefault();
				closeModal();
			}

			if (setImgId) {
				let newimg = $('#images img[imgSeq='+setImgId+']');

				if (newimg.length) {
					modal.remove();
					openModal(newimg);
				}
			}

		} else {
			if (e.which == 32) {
				e.preventDefault();
				if ($('#images img[current=true]').length) {
					openModal($('#images img[current=true]'));
				} else {
					openModal($('#images img:first-child'));
				}

			}
		}
	});

});
</script>
<script src="js/modal.js"></script>

<!--
	https://thenounproject.com/icon/new-york-36684/
	https://hypercolor.dev/mesh

	https://www.fontspace.com/darlington-font-f65957
	https://www.fontspace.com/better-grade-font-f56362
	https://www.fontspace.com/american-signature-font-f89299
//-->

</body>
</html>